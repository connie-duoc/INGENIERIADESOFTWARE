<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Hotel - Items</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    body{font-family:system-ui;margin:2rem;}
    table{border-collapse:collapse;width:100%}
    th,td{border:1px solid #ccc;padding:.5rem;text-align:left}
    thead{background:#f5f5f5}
  </style>
</head>
<body>
  <h1>Actividades</h1>
  <button id="reload">Recargar</button>
  <table>
    <thead>
      <tr><th>ID</th><th>Nombre</th><th>Descripción</th><th>Precio</th><th>Activo</th></tr>
    </thead>
    <tbody id="rows"><tr><td colspan="5">Cargando...</td></tr></tbody>
  </table>

  <script>
    async function load(){
      const tb=document.getElementById('rows');
      tb.innerHTML='<tr><td colspan="5">Cargando...</td></tr>';
      try{
        const r = await fetch('/api/items');
        const data = await r.json();
        if(!Array.isArray(data) || data.length===0){
          tb.innerHTML='<tr><td colspan="5">Sin datos</td></tr>'; return;
        }
        tb.innerHTML = data.map(x=>`
          <tr>
            <td>${x.ID ?? x.id}</td>
            <td>${x.NAME ?? x.name}</td>
            <td>${x.DESCRIPTION ?? x.description}</td>
            <td>${x.PRICE ?? x.price}</td>
            <td>${(x.ACTIVE ?? x.active) ? 'Sí' : 'No'}</td>
          </tr>
        `).join('');
      }catch(e){
        tb.innerHTML = `<tr><td colspan="5">Error: ${e}</td></tr>`;
      }
    }
    document.getElementById('reload').onclick = load;
    load();
  </script>
</body>
</html>
